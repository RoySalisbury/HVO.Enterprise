{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning",
            "Microsoft.Hosting.Lifetime": "Information",
            "HVO.Enterprise": "Debug",
            "HVO.Enterprise.Samples": "Debug"
        },
        "Console": {
            "FormatterName": "simple",
            "FormatterOptions": {
                "TimestampFormat": "HH:mm:ss.fff ",
                "IncludeScopes": true,
                "SingleLine": false
            }
        }
    },
    "AllowedHosts": "*",
    // ═══════════════════════════════════════════════════════════════
    // Extension Integrations
    // Toggle each extension on/off via the Enabled flag.
    // ═══════════════════════════════════════════════════════════════
    "Extensions": {
        "Serilog": {
            "Enabled": true,
            "OutputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {CorrelationId} | {TraceId} | {Message:lj}{NewLine}{Exception}"
        },
        "ApplicationInsights": {
            "Enabled": false,
            "UseInMemoryChannel": true,
            "ConnectionString": ""
        },
        "Datadog": {
            "Enabled": false,
            "UseConsoleExporter": true,
            "AgentHost": "localhost",
            "AgentPort": 8125
        },
        "Database": {
            "Enabled": true,
            "Provider": "Sqlite",
            "ConnectionString": "Data Source=weather.db",
            "CaptureCommandText": true
        },
        "Redis": {
            "Enabled": true,
            "UseFakeCache": true,
            "ConnectionString": "localhost:6379"
        },
        "RabbitMQ": {
            "Enabled": true,
            "UseFakeMessageBus": true,
            "HostName": "localhost",
            "Port": 5672
        },
        "OpenTelemetry": {
            "Enabled": false,
            "Endpoint": "http://localhost:4317",
            "ServiceName": "hvo-samples-net8",
            "ServiceVersion": "1.0.0",
            "Environment": "development",
            "EnableLogExport": false,
            "EnablePrometheus": false,
            "Transport": "Grpc"
        }
    },
    // ═══════════════════════════════════════════════════════════════
    // HVO.Enterprise.Telemetry Configuration
    // See docs for all available options.
    // ═══════════════════════════════════════════════════════════════
    "Telemetry": {
        // ── Core Settings ──────────────────────────────────────────
        "ServiceName": "HVO.Samples.Net8.WeatherMonitor",
        "ServiceVersion": "1.0.0",
        "Environment": "Development",
        "Enabled": true,
        // ── Sampling ───────────────────────────────────────────────
        // DefaultSamplingRate: 0.0 = off, 1.0 = everything sampled.
        // In production, lower this to 0.01–0.1 for high-volume services.
        "DefaultSamplingRate": 1.0,
        "Sampling": {
            "WeatherService": {
                "Rate": 1.0,
                "AlwaysSampleErrors": true
            },
            "BackgroundCollector": {
                "Rate": 0.5,
                "AlwaysSampleErrors": true
            }
        },
        // ── Bounded Queue ──────────────────────────────────────────
        // Controls the internal telemetry processing queue.
        "Queue": {
            "Capacity": 10000,
            "BatchSize": 100
        },
        // ── Feature Flags ──────────────────────────────────────────
        // Toggle individual features on/off.
        "Features": {
            "EnableHttpInstrumentation": true,
            "EnableProxyInstrumentation": true,
            "EnableExceptionTracking": true,
            "EnableParameterCapture": true
        },
        // ── Logging ────────────────────────────────────────────────
        "Logging": {
            "EnableCorrelationEnrichment": true,
            "MinimumLevel": {
                "Default": "Debug"
            }
        },
        // ── Metrics ────────────────────────────────────────────────
        "Metrics": {
            "Enabled": true,
            "CollectionIntervalSeconds": 10
        },
        // ── First-Chance Exceptions ────────────────────────────────
        // Monitors exceptions the instant they are thrown, before any
        // catch handler runs. Opt-in: set Enabled to true at runtime
        // to diagnose suppressed or swallowed exceptions.
        // Changes are hot-reloadable — no restart required.
        "FirstChanceExceptions": {
            "Enabled": false,
            "MinimumLogLevel": "Warning",
            "MaxEventsPerSecond": 100,
            "IncludeExceptionTypes": [],
            "ExcludeExceptionTypes": [
                "System.OperationCanceledException",
                "System.Threading.Tasks.TaskCanceledException"
            ],
            "IncludeNamespacePatterns": [],
            "ExcludeNamespacePatterns": []
        },
        // ── Activity Sources ───────────────────────────────────────
        // List of activity source names to listen to.
        "ActivitySources": [
            "HVO.Enterprise.Telemetry",
            "HVO.Samples.Weather"
        ],
        // ── Resource Attributes ────────────────────────────────────
        // Custom key-value pairs attached to all telemetry data.
        "ResourceAttributes": {
            "deployment.region": "local",
            "team.name": "HVO.Enterprise",
            "sample.type": "weather-monitor"
        },
        // ── Console Telemetry Sink ─────────────────────────────────
        "ConsoleSink": {
            "Enabled": true,
            "IncludeScopes": true,
            "IncludeMetrics": true,
            "IncludeExceptions": true
        }
    }
}